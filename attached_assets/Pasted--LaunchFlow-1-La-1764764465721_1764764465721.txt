Промпт: Разработка платформы LaunchFlow для управления продуктовыми проектами
1. Общее описание
LaunchFlow — это SaaS-платформа для комплексного управления процессом запуска новых продуктов. Ключевые ценности: контроль сроков, централизованная коммуникация и документооборот, автоматизация уведомлений и прозрачность на всех этапах. Платформа должна быть веб-приложением с адаптивным дизайном и иметь возможности для интеграций.
2. Функциональные модули
2.1. Аутентификация и авторизация (Личный кабинет)
•	Типы пользователей: Гость, Пользователь, Администратор.
•	Регистрация компании: Первый пользователь создает компанию (название, возможно лого) и устанавливает пароль. Он становится первым Администратором.
•	Регистрация пользователя: Внутри компании. Обязательные поля: Email (логин), Имя, Фамилия, Пароль. Опционально: аватар.
•	Роли и доступ:
o	Гость: Может только просматривать список проектов и их общее описание (публичную часть). Не может: видеть этапы, комментарии, скачивать файлы, редактировать, создавать.
o	Пользователь: Полный доступ в рамках своей компании (создание, просмотр, редактирование своих и общих проектов, загрузка/скачивание файлов, комментарии).
o	Администратор: Все права Пользователя + админ-панель:
	Управление пользователями компании (приглашение, удаление, сброс пароля).
	Управление структурой этапов (CRUD для этапов и подпунктов чек-листов).
	Настройка прав доступа к этапам (например, скрыть этап "Предложение от завода" для некоторых ролей).
	Просмотр статистики (Dashboard).
2.2. Создание проекта
•	Форма с полями:
1.	Название проекта (обязательное).
2.	Описание проекта (текстовое поле).
3.	Ответственный: По умолчанию — создатель. Выпадающий список всех пользователей компании для смены.
4.	Список продуктов: Динамическая таблица. Заголовки: Артикул, Наименование, (опционально) Кол-во. Кнопка "Добавить строку". Возможность удалить строку.
5.	Настройка сроков: Возможность установить общий дедлайн проекта. Даты этапов устанавливаются индивидуально на каждом этапе.
2.3. Структура проекта и этапы
•	Этапы: Отображаются в виде вертикальной дорожной карты (timeline). Каждый этап — карточка.
•	Статусы этапа: Выпадающий список в карточке этапа — "Ожидание", "В работе", "Пропустить", "Завершено". Смена статуса сохраняет историю.
•	Базовый набор этапов (настраивается Админом):
1.	Рендер (прикрепить изображение)
2.	3D-модель (прикрепить STEP-файл)
3.	Печать 3D-модели
4.	Техническое описание (Функционал, Комплектация, Состав)
5.	Предложение от завода
6.	Оснастка
7.	Образец
8.	Размещение заказа
9.	Чек-лист: Получение документации. Подпункты: Взрыв-схема, Чертеж продукта, Чертеж коробки. К каждому — поле для загрузки файла.
10.	Чек-лист: Подготовка упаковки. Подпункты: Коробка, Инструкция, Внешний стикер, Внутренний стикер. К каждому — поле для загрузки файла.
11.	Сертификация (Логический переключатель Да/Нет).
	Если "Да" — появляются подэтапы: Заявка, Отправка образцов, Получение сертификата.
12.	Отправка первой партии. Обязательные приложения: Фото коробки на весах, Код ТН ВЭД, Страница из каталога.
13.	Чек-лист: Подготовка к рассылке. Подпункты: Видео, Рендер, Цена, Описание для сайта, Описание для видео, Текст для рассылки. К каждому — поле для загрузки файла.
2.4. Функционал карточки этапа
•	Дата начала и дедлайн: Поля для ручного ввода. При изменении дедлана — обязательное модальное окно с полем "Причина переноса" (комментарий). Эта история изменений сохраняется.
•	Комментарии: Лента комментариев под этапом (как в задаче Jira). Возможность @упоминания пользователей компании.
•	Вложения: Кнопка "Прикрепить файл/фото". Отображение списка загруженных файлов с иконками, названием, автором и датой. Возможность скачать/удалить (для загрузившего или админа).
•	История изменений: Лог по этапу (кто менял статус, дедлайн, прикреплял файлы). Доступно по кнопке "История".
•	Кнопка "Дать задание": Открывает окно с полем "Текст задания" и выбором исполнителя из списка пользователей. При отправке:
o	Задача сохраняется в разделе "Мои задачи" в ЛК исполнителя.
o	На email исполнителя приходит письмо: Тема: [LaunchFlow] Задание: [Название проекта] - [Название этапа]. Текст: Задание + прямая ссылка на этап в проекте.
2.5. Уведомления и оповещения
•	Просрочка: Если текущая дата > дедлана этапа, а статус не "Завершено":
o	В интерфейсе: Карточка проекта в общем списке и карточка самого этапа подсвечиваются светло-красным.
o	Email-уведомление: Ежедневное напоминание ответственному за проект до смены статуса. Тема: [LaunchFlow] Просрочен этап. Текст: В проекте "[Название проекта]" просрочен этап "[Название этапа]". Необходимо принять меры. Ссылка: [ссылка на этап].
•	Назначение задания: Уведомление на email и в ЛК (виджет/вкладка "Задания").
•	Комментарии и упоминания: Уведомление в ЛК и на email при упоминании через @.
2.6. Дополнительные страницы и функции
•	Дашборд (Администратора): Графики: "Количество завершенных проектов за период", "Среднее время прохождения этапов", "Проекты в работе/просрочке".
•	Мои задачи (для всех пользователей): Единый список заданий, назначенных им на всех проектах, с приоритетом по дедлайну этапа.
•	Глобальный поиск: По названиям проектов, артикулам, комментариям.
•	Фильтры и сортировка: В списке проектов — по статусу, ответственному, дате создания, наличию просрочки.
•	Экспорт данных: Возможность экспорта карточки проекта в PDF (опционально).
•	Мультиязычность: Переключатель языков интерфейса: Русский, Английский, Китайский. Важно: Контент (названия проектов, комментарии) не переводится.
________________________________________
2. Технические требования и архитектура
2.1. Хранение файлов
•	Решение: Использовать облачные объектные хранилища (AWS S3, Google Cloud Storage, Azure Blob Storage или аналог типа Wasabi для снижения затрат).
•	Структура: Файлы сохраняются по пути: /{company_id}/{project_id}/{stage_id}/{timestamp_filename.ext}.
•	Версионность: Требуется. При загрузке файла с тем же именем в тот же этап предыдущая версия не удаляется, а архивируется. В интерфейсе отображается кнопка "История файла" с возможностью просмотра и отката к предыдущим версиям (право Администратора и ответственного).
•	Лимиты: Устанавливаются на уровне тарифных планов (например, Free: 5 ГБ на компанию, Pro: 50 ГБ, Enterprise: 500 ГБ). Лимит контролируется при загрузке.
•	Безопасность: Доступ к файлам только через авторизованные сессии платформы (прямые ссылки из S3 должны быть с короткоживущими токенами). Для гостей файлы недоступны.
2.2. Интеграции (API-first подход)
•	Email-уведомления: Отправка через SendGrid, Mailgun или Amazon SES с кастомизируемыми шаблонами.
•	Календари: Через OAuth 2.0. Пользователь может подключить свой Google Calendar или Outlook Calendar. Дедлайны этапов автоматически создают события в календаре. При переносе срока — событие обновляется.
•	Мессенджеры:
o	Slack: Создание канала/тредов под проект. Уведомления о комментариях, смене статусов, просрочках приходят в выбранный Slack-канал.
o	Telegram: Бот для уведомлений. Пользователь привязывает свой Telegram ID в ЛК и получает персональные уведомления.
•	Общий принцип: Для каждой интеграции в настройках компании/профиля должен быть раздел "Интеграции", где их можно подключить/отключить.
2.3. Безопасность
•	Аутентификация: JWT-токены. Обязательна двухфакторная аутентификация (2FA) по SMS/TOTP (Google Authenticator) для всех пользователей (можно настраивать на уровне компании).
•	Шифрование: Все данные передаются по HTTPS/TLS 1.3. Конфиденциальные данные (пароли, токены интеграций) в базе данных шифруются алгоритмами (например, AES-256).
•	Роли и доступ (RBAC):
o	Предложенная модель "Гость-Пользователь-Админ" — базовая.
o	Дополнительно (для Enterprise): Возможность создания кастомных ролей (например, "Финансист" — видит только этапы 5,8; "Дизайнер" — только этапы 1,2,9,13) с тонкой настройкой прав: просмотр, комментирование, редактирование, загрузка файлов.
2.4. Мобильность
•	Адаптивный веб-интерфейс (Mobile-first): Приоритетная разработка под мобильные устройства. Использование React/Vue.js + фреймворк (Next.js/Nuxt) для SSR и быстрой работы.
•	PWA (Progressive Web App): Возможность "установить" приложение на экран телефона, работа оффлайн для просмотра загруженных данных, push-уведомления.
•	Нативное приложение (Roadmap): Планируется в будущем, но не в первую очередь.
2.5. Отчетность и аналитика
•	Дашборд Администратора:
o	Скорость выполнения проектов (средняя, медианная).
o	Количество проектов по статусам (активные, завершенные, на паузе).
o	Heatmap просрочек (какие этапы чаще всего задерживаются).
o	Загрузка по пользователям (количество активных задач).
•	Пользовательские отчеты:
o	Каждый пользователь может сгенерировать PDF-отчет по своим проектам (или тем, где он ответственный).
o	В отчете: список этапов, статусы, сроки, приложенные ключевые документы (рендеры, ТЗ), итоговый комментарий.
o	Возможность автоматической отправки отчета по email (например, руководству).
